.686p
include \masm32\include\masm32rt.inc
.mmx
.xmm
.code
main PROC
Push Ebp
Mov Ebp, Esp
Sub Esp, 0
Push 5
Push 2
Mov Ecx, Ebx
Pop Ecx
Pop Eax
Shl Eax, Cl
Mov Ebx, Ecx
Push Eax
Cvtsi2sd Xmm0, dword ptr [Esp]
Sub Esp, 4
Movsd qword ptr [Esp], Xmm0
Push 2
Cvtsi2sd Xmm0, dword ptr [Esp]
Sub Esp, 4
Movsd qword ptr [Esp], Xmm0
Movsd Xmm1, qword ptr [Esp]
Add Esp, 8
Movsd Xmm0, qword ptr [Esp]
Divsd Xmm0, Xmm1
Movsd qword ptr [Esp], Xmm0
Push 2
Cvtsi2sd Xmm0, dword ptr [Esp]
Sub Esp, 4
Movsd qword ptr [Esp], Xmm0
Movsd Xmm1, qword ptr [Esp]
Add Esp, 8
Movsd Xmm0, qword ptr [Esp]
Mulsd Xmm0, Xmm1
Movsd qword ptr [Esp], Xmm0
Push 13
Push 5
Pop Ebx
Pop Eax
Cdq
Idiv Ebx
Push Edx
Push 1
Pop Ebx
Pop Eax
Cdq
Idiv Ebx
Push Eax
Cvtsi2sd Xmm0, dword ptr [Esp]
Sub Esp, 4
Movsd qword ptr [Esp], Xmm0
Movsd Xmm1, qword ptr [Esp]
Add Esp, 8
Movsd Xmm0, qword ptr [Esp]
Addsd Xmm0, Xmm1
Movsd qword ptr [Esp], Xmm0
Mov Eax, Esp
printf("%f", qword ptr [Eax])
Sub Esp, 8
Mov Esp, Ebp
Pop Ebp
exit
main ENDP
END main
